# 证件照小程序 - 页面结构说明

## 📱 页面架构

### TabBar 页面（4个主要入口）

#### 1. 首页 - `pages/index/index`
- **功能**：证件照类型选择
- **内容**：
  - 常用尺寸（一寸、二寸等）
  - 考试报名（四六级、考研等）
  - 签证护照（美国签证、日本签证等）
- **交互**：点击卡片 → 跳转到上传页

#### 2. 实用工具 - `pages/tools/tools`
- **功能**：独立工具集合
- **工具列表**：
  - 🎨 更换背景色
  - 📐 生成排版照
  - ✂️ 人像抠图
  - 📉 调整KB大小
  - ✂️ 照片裁剪
  - 💧 添加水印

#### 3. 历史记录 - `pages/history/history`
- **功能**：查看和管理制作历史
- **特性**：
  - 本地存储，最多20条
  - 时间排序显示
  - 点击重新预览
  - 单条删除或清空全部

#### 4. 我的 - `pages/profile/profile`
- **功能**：个人中心
- **子页面**：
  - ❓ 常见问题（FAQ）
  - 📖 拍摄攻略
  - ℹ️ 关于我们
  - 📞 联系我们

---

### 核心流程页面（4个）

#### 上传页 - `pages/upload/upload`
- **触发**：首页选择尺寸后
- **功能**：
  - 拍照/相册上传
  - 显示照片要求
  - 调用AI生成证件照
- **下一步**：跳转到编辑页

#### 编辑页 - `pages/edit/edit`
- **触发**：AI处理完成后
- **功能**：
  - 实时预览证件照
  - 选择背景色（蓝、白、红、灰）
  - 生成排版照
  - 保存当前照片
- **下一步**：跳转到预览页

#### 预览页 - `pages/preview/preview`
- **触发**：生成排版照后
- **功能**：
  - 切换单张/排版照
  - 观看广告解锁保存
  - 保存到相册
  - 返回编辑

---

### 工具子页面（6个）

所有工具子页面结构统一，包含：
- `pages/tools/change-bg/` - 更换背景色工具
- `pages/tools/layout/` - 生成排版照工具
- `pages/tools/matting/` - 人像抠图工具
- `pages/tools/resize-kb/` - 调整KB大小工具
- `pages/tools/crop/` - 照片裁剪工具
- `pages/tools/watermark/` - 添加水印工具

> 注：这些页面目前是占位页面，显示"功能开发中"。可以后续根据需要实现完整功能。

---

### 个人中心子页面（4个）

#### 常见问题 - `pages/profile/faq/faq`
- **内容**：8个常见问题及答案
- **交互**：折叠/展开答案
- **问题类型**：
  - 如何使用
  - 尺寸说明
  - 照片要求
  - 时间说明
  - 保存方法
  - 收费说明等

#### 拍摄攻略 - `pages/profile/guide/guide`
- **内容**：4个拍摄指导
- **分类**：
  - 拍摄前准备
  - 拍摄姿势
  - 光线要求
  - 常见错误

#### 关于我们 - `pages/profile/about/about`
- **内容**：
  - 应用介绍
  - 核心功能展示
  - 技术支持说明
  - 版本信息

#### 联系我们 - `pages/profile/contact/contact`
- **内容**：
  - 邮箱联系
  - 微信联系
  - 用户反馈引导

---

## 🔄 页面跳转流程

### 主要流程

```
首页（选择尺寸）
    ↓
上传页（上传照片）
    ↓
编辑页（选背景色/生成排版照）
    ↓
预览页（观看广告/保存到相册）
    ↓
自动保存到历史记录
```

### 工具流程

```
实用工具
    ↓
选择具体工具
    ↓
上传照片
    ↓
使用工具功能
    ↓
保存结果
```

---

## 📊 页面统计

- **总页面数**：20个
- **TabBar页面**：4个
- **核心流程页面**：4个
- **工具子页面**：6个
- **个人中心子页面**：4个
- **历史记录相关**：1个（首页的底部导航已移除）

---

## 🎨 设计统一性

所有页面遵循统一的设计系统：
- **配色**：紫蓝渐变 (#667eea → #764ba2)
- **圆角**：20-32rpx
- **阴影**：0 8rpx 24rpx rgba(102, 126, 234, 0.08)
- **字体**：
  - 标题：48-64rpx
  - 正文：26-32rpx
  - 辅助：22-24rpx
- **动画**：淡入、上滑、脉冲效果

---

## ⚠️ 注意事项

1. **tabBar 图标**：需要准备8个图标文件（详见 TABBAR_ICONS.md）
2. **API 配置**：确保 `miniprogram/utils/config.js` 中的后端地址正确
3. **历史记录**：使用本地存储，清除小程序缓存会丢失
4. **工具子页面**：目前是占位页面，需要后续实现完整功能

---

## 🚀 后续可优化方向

1. 完善工具子页面的完整功能
2. 添加更多证件照尺寸类型
3. 实现用户登录和数据同步
4. 添加照片美化功能（美白、磨皮等）
5. 增加更多排版样式
6. 添加照片对比功能
7. 实现分享功能
